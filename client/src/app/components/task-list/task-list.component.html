<p>task-list works!</p>
<div class="cyber-task-container">
  <button (click)="logout()" class="logout-button">Logout</button>
    <div class="cyber-header">
      <h1>CYBER TASK MANAGER</h1>
      <div class="cyber-line"></div>
    </div>
  
    <!-- Add Task Form -->
    <div class="cyber-form-container">
      <form (ngSubmit)="addTask()" class="cyber-form">
        <input 
          type="text" 
          [(ngModel)]="newTask.title" 
          name="title"
          placeholder="Task Title" 
          class="cyber-input"
          required>
        
        <textarea 
          [(ngModel)]="newTask.description" 
          name="description"
          placeholder="Task Description" 
          class="cyber-input"
          rows="3"></textarea>
        
        <div class="form-row">
          <select 
            [(ngModel)]="newTask.priority" 
            name="priority"
            id="firstSelect"
            class="cyber-input">
            <option value="low">Low Priority</option>
            <option value="medium">Medium Priority</option>
            <option value="high">High Priority</option>
          </select>
          
          <input 
            type="date" 
            [(ngModel)]="newTask.dueDate" 
            name="dueDate"
            class="cyber-input">
        </div>
  
        <button type="submit" class="cyber-button-submit" >Add Task</button>
      </form>
    </div>
  
    <!-- Task List -->
    <div class="task-list">
      <div *ngFor="let task of tasks" class="task-card" [class.completed]="task.isCompleted">
        <div class="task-header">
          <ng-container *ngIf="!task.isEditing; else editTitleMode">
            <h3>{{ task.title }}</h3>
          </ng-container>
          <ng-template #editTitleMode>
            <input 
              type="text" 
              [(ngModel)]="task.title" 
              class="cyber-input"
              placeholder="Task Title">
          </ng-template>
          <ng-container *ngIf="!task.isEditing; else editPriorityMode">
            <span class="priority-badge" [class]="task.priority">
              {{ task.priority }}
            </span>
          </ng-container>
          <ng-template #editPriorityMode>
            <select 
              [(ngModel)]="task.priority" 
              class="cyber-input">
              <option value="low">Low Priority</option>
              <option value="medium">Medium Priority</option>
              <option value="high">High Priority</option>
            </select>
          </ng-template>
        </div>
        
        <div>
          <ng-container *ngIf="!task.isEditing; else editDescription">
            <p class="task-description">{{ task.description }}</p>
          </ng-container>
          <ng-template #editDescription>
            <textarea 
              [(ngModel)]="task.description" 
              class="cyber-input"
              rows="2">
            </textarea>
          </ng-template>
        </div>

        <div class="task-footer">
          <ng-container *ngIf="!task.isEditing; else editDate">
            <span class="due-date">Due: {{ task.dueDate }}</span>
          </ng-container>
          <ng-template #editDate>
            <input 
            type="date" 
            [(ngModel)]="task.dueDate" 
            class="cyber-input"
            [value]="(task.dueDate | date:'yyyy-MM-dd')" 
            >
          </ng-template>
          <div class="task-actions">
            <button 
              (click)="toggleEditMode(task)"
              class="cyber-button small">
            {{ task.isEditing ? 'Save' : 'Edit' }}
            </button>

            <button 
              *ngIf="task.isEditing"
              (click)="toggleEditModeCancel(task)"
              class="cyber-button small">
            Cancel 
            </button>

            <button 
              (click)="toggleComplete(task)" 
              class="cyber-button small"
              [class.completed]="task.isCompleted">
              {{ task.isCompleted ? 'Completed' : 'Mark Complete' }}
            </button>
            <button 
              *ngIf="task.id" 
              (click)="deleteTask(task.id!)" 
              class="cyber-button small delete">
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>